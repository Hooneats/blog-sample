server:
    port: 5555

spring:
    application:
        name: gateway-server

    cloud:
        gateway:
            discovery:
                locator:
                    enabled: false

            httpclient:
                connect-timeout: 10000
                response-timeout: 10s

            routes:
                -   id: order-service
                    uri: http://localhost:8181
                    predicates:
                        - Path=/order/**
                    filters:
                        - RewritePath=/order/(?<path>.*),/$\{path}

                -   id: cart-service
                    uri: http://localhost:8181
                    predicates:
                        - Path=/cart/**
                    filters:
                        - RewritePath=/cart/(?<path>.*),/$\{path}

logging:
    level:
        root: info
        reactor.netty.http.server.AccessLog: debug

management:
    endpoints:
        web:
            exposure:
                include:
                    - "info"
                    - "health"
                    - "gateway"
                    - "bus-refresh"
    endpoint:
        gateway:
            enabled: true