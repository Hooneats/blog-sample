
# 클라이언트 측 부하 분산
클라이언트 측 부하 분산은 클라이언트가 넷플릭스 우레카 같은 서비스 디스커버리 에이전트를 이용해 서비스의 모든 인스턴스를 검색한 후 해당 서비스 인스턴스의 실제 위치를 캐싱하는 것이다.

서비스 소비자가 서비스 인스턴스를 호츌해야 할 때마다 클라이언트 측 로드밸런서는 서비스 위치 풀에서 관리하는 서비스 위치를 하나씩 전달한다.

클라이언트 측 로드 밸런서는 서비스 클라이언ㅌ와 서비스 소비자 사이에 위치하므로 서비스인스턴스가 에러를 전달하거나 불량 동작을 하는지 감지한다. 클라이언트 측 로드 밸런서가 문제를 감지할 수 있다면 가용 서비스 위치 풀에서 문제가 된 서비스 인스턴스를 제거해 서비스 호출이 그 인스턴스로 전달된느 것을 막는다.

# 회로 차단기
클라이언트 회복성 패턴이다. 소프트웨어 회로 차단기는 원격 서비스 호출을 모니터링 한다. 호출이 오래 걸린다면 회로 차단기가 중재해 호출을 중단한다. 회로 차단기는 원격 사줜에 대한 모든 호출을 모니터링하고, 호출이 필요한 만큼 실패하면 회로 차단기가 활성화되어 빨리 실패하게 만들며. 고장 난 원격 자원은 더이상 호출되지 않도록 차단한다.

원격 호출에 회로 차단 패턴이 제공하는 핵심 기능은 다음과 같다.
1. 빠른 실패 : 원격 서비스가 저하를 겪으면 애플리케이션은 빨리 실패함으로써 애플리케이션 전체를 다운시킬 수 있는 자원 고갈 이슈를 방지한다. 전체가 다운되는 것보다 부분적으로 다운되는것이 더 낫다.
2. 원만한 실패: 타임아웃과 빠른 실패 방법을 사용하는 회로 차단기 패턴으로 애플리케이션 개발자는 원만하게 실패하거나 사용 의도로 수행하느 대체 메커니즘을 찾을 수있다.
3. 원활한 회복: 회로 차단기 패턴이 중재자 역할을 한다면 회로 차단기는 요청 자원이 온라인 상태인지 주기적으로 확인하고, 사람의 개입 없이 자원 접근을 다시 허용할 수 있다.



# 풀백 처리
풀백 패턴은 사용하면 원격 서비스에 대한 호출이 실패할 때 예외를 발생시키지 않고 서비스 소비자가 대체 코드 경로를 실행해 다른 방법으로 작업을 수행할 수 있다.

사용자 행동 양식을 모니터링하고 구매 가능성이 있는 다른 물품들을 추천하는 기능을 제공하는 전자상거래 웹 사이ㅡ가 있다고 가정하자, 일반적으로 마이크로서비스를 호출해 사용자의 과거행위를 분석하고 특정 사용자에게 맞춤화된 추천 목록을 전달한다. 하지만 선호도 서비스가 고장난다면 풀백은 모든 사용자의 구매정보를 기반으로 더 일반화된 선호 목록을 조회한다.

# 벌크헤드
벌크헤드 패턴을 적용하면 원격 자원에 대한 호출을 자원별 스레드 풀로 분리하므로 특정 원격 자원의 호출이 느려진 전체 애플리케이션이 다운될 수 있는 위험을 줄일 수 있다. 스레드 풀은 서비스를 위한 벌크헤드 역할을 한다.



